import streamlit as st
import json
import os
import pandas as pd

# File to store sign-ups
SIGNUPS_FILE = "signups.txt"

# Ensure the file exists and contains valid JSON
if not os.path.exists(SIGNUPS_FILE) or os.stat(SIGNUPS_FILE).st_size == 0:
    with open(SIGNUPS_FILE, "w") as file:
        json.dump({}, file)  # Initialize as an empty dictionary

# Load sign-ups safely
try:
    with open(SIGNUPS_FILE, "r") as file:
        signups = json.load(file)
except json.JSONDecodeError:
    signups = {}  # Reset if there's an error in reading
    with open(SIGNUPS_FILE, "w") as file:
        json.dump(signups, file)
